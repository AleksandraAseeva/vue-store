{"version":3,"file":"js/581.15458fa3.js","mappings":"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","sources":["webpack://diploma/./src/views/RegisterView.vue","webpack://diploma/./src/components/EntryComponent/RegisterForm.vue","webpack://diploma/./src/components/EntryComponent/RegisterForm.vue?9c0c","webpack://diploma/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["<template>\r\n  <div class=\"redister\">\r\n    <RegisterForm/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RegisterForm from '@/components/EntryComponent/RegisterForm.vue'\r\n\r\nexport default {\r\n  name: 'RegisterView',\r\n  components: {\r\n   RegisterForm\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.redister {\r\n  padding: 1rem 0;\r\n}\r\n</style>","<template>\r\n  <div class=\"register\">\r\n    <form @submit.prevent=\"onSubmit\">\r\n      <div class=\"field\">\r\n        <div v-once ><label for=\"firstName\">Ваше имя:</label></div>\r\n        <input v-model=\"firstName\" type=\"text\" id=\"firstlName\" required />\r\n      </div>\r\n\r\n      <div class=\"field\">\r\n        <div v-once><label for=\"lastName\">Ваша фамилия:</label></div>\r\n        <input v-model=\"lastName\" type=\"text\" id=\"lastName\" required />\r\n      </div>\r\n\r\n      <div class=\"field\">\r\n        <div v-once><label for=\"password\">Пароль:</label></div>\r\n        <input\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          required\r\n          @input=\"validatePassword\"\r\n        />\r\n        <p v-if=\"passwordError\" class=\"error-message\" style=\"color: #b1b1b1\">{{ passwordError }}</p>\r\n        <p v-else style=\"color: #b1b1b1\">Принято, кэп</p>\r\n      </div>\r\n\r\n      <div class=\"field\">\r\n        <div v-once><label for=\"email\">Почта:</label></div>\r\n        <input v-model=\"email\" type=\"email\" id=\"email\" required />\r\n      </div>\r\n      \r\n\r\n      <button type=\"submit\" :disabled=\"loading\">\r\n        {{ loading ? \"Загрузка...\" : \"Зарегистрироваться\" }}\r\n      </button>\r\n    </form>\r\n\r\n    <hr />\r\n\r\n    <h2 :class=\"statusClass\">{{ statusMessage }}</h2>\r\n\r\n    <pre id=\"jsonPre\">{{ responseJson }}</pre>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState([\"cart\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      statusMessage: \"\",\r\n      statusClass: \"\",\r\n      responseJson: \"\",\r\n      passwordError: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit() {\r\n      if (this.passwordError) {\r\n        this.statusMessage = \"Исправьте ошибки в пароле.\";\r\n        this.statusClass = \"error\";\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      this.statusMessage = \"\";\r\n\r\n      try {\r\n        const res = await fetch(\"https://faa45a9033a909b4.mokky.dev/register\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            firstName: this.firstName,\r\n            lastName: this.lastName,\r\n            email: this.email,\r\n            password: this.password,\r\n            items: this.cart,\r\n          }),\r\n        });\r\n\r\n        const json = await res.json();\r\n        this.responseJson = JSON.stringify(json, null, 2);\r\n        this.updateStatus(res.ok, json);\r\n\r\n        if (res.ok) {\r\n          const token = json.token;\r\n          localStorage.setItem(\"authToken\", token);\r\n\r\n          this.$router.push({ name: \"entry\" });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Ошибка:\", error);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    updateStatus(ok, json) {\r\n      if (ok) {\r\n        this.statusMessage = \"Успешно!\";\r\n        this.statusClass = \"success\";\r\n      } else {\r\n        this.statusMessage = \"Не зарегистрирован!\";\r\n        this.statusClass = \"error\";\r\n      }\r\n    },\r\n    validatePassword() {\r\n      const passwordRegex =\r\n        /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\r\n      if (!passwordRegex.test(this.password)) {\r\n        this.passwordError =\r\n          \"Пароль должен содержать минимум 8 символов, включая буквы, цифры и специальные символы.\";\r\n      } else {\r\n        this.passwordError = \"\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.register {\r\n  max-width: 25rem;\r\n  margin: 0 auto;\r\n  padding: 1.25rem;\r\n  border: 0.0625rem solid var(--color-disabled);\r\n  background-color: var(--color-background);\r\n}\r\n\r\n.register-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.9375rem;\r\n}\r\n\r\n.field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.3125rem;\r\n  text-align: left;\r\n  font-size: 1.2rem;\r\n}\r\n\r\nlabel {\r\n  font-weight: bold;\r\n}\r\n\r\ninput {\r\n  padding: .8rem;\r\n  border: 0.0625rem solid var(--color-disabled);\r\n  font-size: 1rem;\r\n}\r\n\r\ninput:focus {\r\n  border-color: var(--color-primary);\r\n  outline: none;\r\n}\r\n\r\nbutton {\r\n  padding: 1rem;\r\n  width: 100%;\r\n  background-color: var(--color-primary);\r\n  color: var(--color-text);\r\n  border: none;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  margin-top: 1rem;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: var(--color-disabled);\r\n  cursor: not-allowed;\r\n}\r\n\r\n.error-message {\r\n  color: #ff4444;\r\n  font-size: 0.875rem;\r\n  margin-top: 0.3125rem;\r\n}\r\n\r\nhr {\r\n  margin: 1.25rem 0;\r\n  border: 0;\r\n  border-top: 0.0625rem solid var(--color-disabled);\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  font-size: 1.125rem;\r\n}\r\n\r\nh2.loading, h2.success {\r\n  color: #42b983;\r\n}\r\n\r\nh2.error {\r\n  color: #ff4444;\r\n}\r\n\r\n#jsonPre {\r\n  background-color: var(--color-background);\r\n  padding: 0.625rem;\r\n  border-radius: 0.25rem;\r\n  font-family: monospace;\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n}\r\n</style>\r\n","import { render } from \"./RegisterForm.vue?vue&type=template&id=a29ad8cc&scoped=true\"\nimport script from \"./RegisterForm.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterForm.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterForm.vue?vue&type=style&index=0&id=a29ad8cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a29ad8cc\"]])\n\nexport default __exports__","import { render } from \"./RegisterView.vue?vue&type=template&id=97735b30&scoped=true\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=97735b30&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-97735b30\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_RegisterForm","key","style","id","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","_hoisted_2","for","$event","$data","firstName","type","required","_hoisted_3","lastName","_hoisted_4","password","onInput","validatePassword","passwordError","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","email","disabled","loading","_hoisted_8","_normalizeClass","statusClass","statusMessage","_hoisted_9","responseJson","computed","mapState","data","methods","this","res","fetch","method","headers","Accept","body","JSON","stringify","items","cart","json","updateStatus","ok","token","localStorage","setItem","$router","push","name","error","console","passwordRegex","test","__exports__","components","RegisterForm","render"],"sourceRoot":""}